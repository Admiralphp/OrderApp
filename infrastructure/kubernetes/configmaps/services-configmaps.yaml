##############################################
# User Service ConfigMap
##############################################
apiVersion: v1
kind: ConfigMap
metadata:
  name: user-service-config
  namespace: orderapp
  labels:
    app: user-service
data:
  NODE_ENV: production
  PORT: "3001"
  LOG_LEVEL: info
  LOG_FORMAT: json
  # Service URLs for inter-service communication
  NOTIFICATION_SERVICE_URL: http://notification-service:3005
  # Rate limiting
  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "100"
  # Metrics
  METRICS_ENABLED: "true"
  METRICS_PATH: /metrics
---
##############################################
# Product Service ConfigMap
##############################################
apiVersion: v1
kind: ConfigMap
metadata:
  name: product-service-config
  namespace: orderapp
  labels:
    app: product-service
data:
  NODE_ENV: production
  PORT: "3002"
  LOG_LEVEL: info
  LOG_FORMAT: json
  # Database
  DB_HOST: postgresql-product
  DB_PORT: "5432"
  DB_NAME: productdb
  DB_POOL_MIN: "2"
  DB_POOL_MAX: "10"
  # Rate limiting
  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "100"
  # Metrics
  METRICS_ENABLED: "true"
  METRICS_PATH: /metrics
---
##############################################
# Order Service ConfigMap
##############################################
apiVersion: v1
kind: ConfigMap
metadata:
  name: order-service-config
  namespace: orderapp
  labels:
    app: order-service
data:
  NODE_ENV: production
  PORT: "3003"
  LOG_LEVEL: info
  LOG_FORMAT: json
  # Database
  DB_HOST: postgresql-order
  DB_PORT: "5432"
  DB_NAME: orderdb
  DB_POOL_MIN: "2"
  DB_POOL_MAX: "10"
  # Service URLs for inter-service communication
  USER_SERVICE_URL: http://user-service:3001
  PRODUCT_SERVICE_URL: http://product-service:3002
  PAYMENT_SERVICE_URL: http://payment-service:3004
  NOTIFICATION_SERVICE_URL: http://notification-service:3005
  # Rate limiting
  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "100"
  # Metrics
  METRICS_ENABLED: "true"
  METRICS_PATH: /metrics
---
##############################################
# Payment Service ConfigMap
##############################################
apiVersion: v1
kind: ConfigMap
metadata:
  name: payment-service-config
  namespace: orderapp
  labels:
    app: payment-service
data:
  NODE_ENV: production
  PORT: "3004"
  LOG_LEVEL: info
  LOG_FORMAT: json
  # Service URLs for inter-service communication
  ORDER_SERVICE_URL: http://order-service:3003
  NOTIFICATION_SERVICE_URL: http://notification-service:3005
  # Rate limiting
  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "50"
  # Metrics
  METRICS_ENABLED: "true"
  METRICS_PATH: /metrics
---
##############################################
# Notification Service ConfigMap
##############################################
apiVersion: v1
kind: ConfigMap
metadata:
  name: notification-service-config
  namespace: orderapp
  labels:
    app: notification-service
data:
  NODE_ENV: production
  PORT: "3005"
  LOG_LEVEL: info
  LOG_FORMAT: json
  # Redis
  REDIS_HOST: redis-notification
  REDIS_PORT: "6379"
  # Email settings
  SMTP_HOST: smtp.example.com
  SMTP_PORT: "587"
  SMTP_SECURE: "false"
  EMAIL_FROM: noreply@orderapp.com
  # Rate limiting
  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "200"
  # Metrics
  METRICS_ENABLED: "true"
  METRICS_PATH: /metrics
